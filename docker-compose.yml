version: '3.9'
services:
  barcode-server:
    container_name: barcode-server
    image: bradbarnhill/barcode-api:latest
    networks:
      - spring-cloud-network
    build:
      context: .
      dockerfile: ./Dockerfile
      args:
        BARCODE_SSL_PASSWORD: ${BARCODE_SSL_PASSWORD}
    ports:
      - "8080:8080"
    expose:
      - 8080
    environment:
      - BARCODE_SSL_PASSWORD=${BARCODE_SSL_PASSWORD}

networks:
  spring-cloud-network:
    driver: bridge